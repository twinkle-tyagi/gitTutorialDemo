<html>
    <body>
        <form onsubmit="store(event)" id = "myform">
            <label for="name">Name:</label>
            <input type="text" id="username">
            <label for="email">Email:</label>
            <input type="text" id="emailId"> 
            <label for="phone">Phone:</label>
            <input type="text" id="phoneNum">
            <input class="btn" type="submit" value="Submit">
        </form>
        <ul id = 'userlist'>
            
        </ul>
    </body>
</html>

<script>
   /* for single user only
    function store(event)
    {
        event.preventDefault();
        const name = event.target.username.value;
        const email = event.target.emailId.value;
        const phone = event.target.phoneNum.value;
        const obj = {
            name, // can also write name: name,
            email, // email: email,
            phone // phone: phone
        }

        localStorage.setItem('userDetails',JSON.stringify(obj));

    }
*/

let myform = document.getElementById('myform');

let newD = document.createElement('ul');
newD.className = 'ul1';
myform.appendChild(newD);


function store(event)
        {
            event.preventDefault();
            let name = event.target.username.value;
            let email = event.target.emailId.value;
            let phone = event.target.phoneNum.value;
            let key1 = name+email;
            let obj = {
                name,
                email,
                phone
            }

            // localStorage.setItem(key1,JSON.stringify(obj));
            
            //or we can write above code like this
            localStorage.setItem(obj.name+obj.email,JSON.stringify(obj));
            
            let newli = document.createElement('li');
            newli.id = 'li';
            newli.appendChild(document.createTextNode(name));
            newli.appendChild(document.createTextNode(email));
            newli.appendChild(document.createTextNode(phone));
            newD.appendChild(newli);

            alert("booking made name = "+name+" email = " +email );

        }

        // to get all the keys in local storage.
        for(let i =0;i<localStorage.length;i++)
        {
            console.log(localStorage.key(i));
        }



    window.onload = () => {
        Object.keys(localStorage).forEach( (key)=>
        {
            console.log(localStorage.getItem(key));
        });
        
    }
</script>